<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#192846">
    <title>PEJETA - Barber√≠a</title>
    <style>
        :root {
  /* Primitive Color Tokens */
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);

  /* RGB versions for opacity control */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;

  /* Background color tokens (Light Mode) */
  --color-bg-1: rgba(59, 130, 246, 0.08);
  --color-bg-2: rgba(245, 158, 11, 0.08);
  --color-bg-3: rgba(34, 197, 94, 0.08);
  --color-bg-4: rgba(239, 68, 68, 0.08);
  --color-bg-5: rgba(147, 51, 234, 0.08);
  --color-bg-6: rgba(249, 115, 22, 0.08);
  --color-bg-7: rgba(236, 72, 153, 0.08);
  --color-bg-8: rgba(6, 182, 212, 0.08);

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

  /* Typography */
  --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;

  /* Spacing */
  --space-4: 4px;
  --space-8: 8px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;

  /* Border Radius */
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
    0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
    0 4px 6px -2px rgba(0, 0, 0, 0.02);

  /* Custom barbershop colors */
  --color-barbershop-navy: rgba(25, 40, 70, 1);
  --color-barbershop-gold: rgba(184, 134, 11, 1);
  --color-barbershop-gold-light: rgba(184, 134, 11, 0.1);
  
  /* Mobile-specific */
  --mobile-header-height: 60px;
  --mobile-bottom-nav-height: 70px;
  --mobile-safe-area-bottom: env(safe-area-inset-bottom, 0px);
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-gray-400-rgb: 119, 124, 124;
    --color-teal-300-rgb: 50, 184, 198;
    --color-gray-300-rgb: 167, 169, 169;
    --color-gray-200-rgb: 245, 245, 245;

    --color-background: var(--color-charcoal-700);
    --color-surface: var(--color-charcoal-800);
    --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
    --color-primary: var(--color-teal-300);
    --color-primary-hover: var(--color-teal-400);
    --color-primary-active: var(--color-teal-800);
    --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
    --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
    --color-border: rgba(var(--color-gray-400-rgb), 0.3);
    --color-error: var(--color-red-400);
    --color-success: var(--color-teal-300);
    --color-warning: var(--color-orange-400);
    --color-info: var(--color-gray-300);
    --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
    --color-btn-primary-text: var(--color-slate-900);
    --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
    --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
    --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);
  }
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
}

html {
    height: 100%;
    overflow: hidden;
}

body {
    font-family: var(--font-family-base);
    background-color: var(--color-background);
    color: var(--color-text);
    line-height: var(--line-height-normal);
    font-size: var(--font-size-lg);
    -webkit-font-smoothing: antialiased;
    height: 100%;
    overflow: hidden;
    touch-action: pan-y;
    user-select: none;
}

.app-container {
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.header {
    background: linear-gradient(135deg, var(--color-barbershop-navy) 0%, var(--color-slate-900) 100%);
    color: var(--color-cream-50);
    padding: max(var(--space-12), env(safe-area-inset-top)) var(--space-16) var(--space-12);
    text-align: center;
    box-shadow: var(--shadow-md);
    flex-shrink: 0;
    min-height: var(--mobile-header-height);
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.header h1 {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    letter-spacing: 3px;
    margin-bottom: var(--space-4);
}

.header-subtitle {
    font-size: var(--font-size-xs);
    opacity: 0.85;
    color: var(--color-barbershop-gold);
}

.mobile-bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: var(--color-surface);
    border-top: 1px solid var(--color-border);
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding-bottom: var(--mobile-safe-area-bottom);
    height: calc(var(--mobile-bottom-nav-height) + var(--mobile-safe-area-bottom));
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    z-index: 100;
}

.nav-item {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--space-8) var(--space-4);
    border: none;
    background: transparent;
    color: var(--color-text-secondary);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all 0.2s;
    min-height: 60px;
    gap: var(--space-4);
}

.nav-item-icon {
    font-size: 24px;
    margin-bottom: var(--space-2);
}

.nav-item.active {
    color: var(--color-primary);
}

.nav-item.active .nav-item-icon {
    transform: scale(1.1);
}

.content {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
    padding: var(--space-16);
    padding-bottom: calc(var(--mobile-bottom-nav-height) + var(--mobile-safe-area-bottom) + var(--space-16));
}

.view {
    display: none;
}

.view.active {
    display: block;
}

.card {
    background-color: var(--color-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-card-border);
    box-shadow: var(--shadow-sm);
    margin-bottom: var(--space-20);
    overflow: hidden;
}

.card-header {
    padding: var(--space-16);
    border-bottom: 1px solid var(--color-card-border-inner);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.card-title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
}

.card-body {
    padding: var(--space-16);
}

.stat-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-16);
}

.stat-card {
    background: var(--color-bg-1);
    padding: var(--space-24);
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-card-border);
    text-align: center;
}

.stat-value {
    font-size: 48px;
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
    margin-bottom: var(--space-8);
}

.stat-label {
    font-size: var(--font-size-base);
    color: var(--color-text-secondary);
}

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--space-16) var(--space-24);
    border-radius: var(--radius-lg);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    cursor: pointer;
    transition: all 0.2s;
    border: none;
    text-decoration: none;
    gap: var(--space-8);
    min-height: 52px;
    touch-action: manipulation;
}

.btn-primary {
    background: var(--color-primary);
    color: var(--color-btn-primary-text);
}

.btn-primary:hover {
    background: var(--color-primary-hover);
}

.btn-secondary {
    background: var(--color-secondary);
    color: var(--color-text);
}

.btn-secondary:hover {
    background: var(--color-secondary-hover);
}

.btn-danger {
    background: var(--color-error);
    color: var(--color-white);
}

.btn-danger:hover {
    opacity: 0.9;
}

.btn-full {
    width: 100%;
}

.btn-sm {
    padding: var(--space-12) var(--space-16);
    font-size: var(--font-size-base);
    min-height: 44px;
}

.input-group {
    margin-bottom: var(--space-20);
}

.input-label {
    display: block;
    margin-bottom: var(--space-8);
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-base);
    color: var(--color-text);
}

.input-required {
    color: var(--color-error);
}

.input-field,
.select-field,
.textarea-field {
    width: 100%;
    padding: var(--space-16);
    font-size: var(--font-size-lg);
    color: var(--color-text);
    background-color: var(--color-surface);
    border: 2px solid var(--color-border);
    border-radius: var(--radius-lg);
    transition: border-color 0.2s;
    min-height: 52px;
}

.input-field:focus,
.select-field:focus,
.textarea-field:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 3px var(--color-focus-ring);
}

.textarea-field {
    resize: vertical;
    min-height: 80px;
    font-family: var(--font-family-base);
}

.search-box {
    margin-bottom: var(--space-20);
}

.search-box .input-field {
    background-color: var(--color-background);
}

.client-list,
.appointment-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-12);
}

.client-item,
.appointment-item {
    background-color: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    box-shadow: var(--shadow-sm);
}

.client-info,
.appointment-info {
    flex: 1;
}

.client-name,
.appointment-client {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
    margin-bottom: var(--space-8);
}

.client-details,
.appointment-details {
    font-size: var(--font-size-base);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-4);
    line-height: 1.6;
}

.client-actions,
.appointment-actions {
    display: flex;
    gap: var(--space-8);
    flex-shrink: 0;
    align-items: center;
}

.icon-btn {
    padding: var(--space-12);
    border: none;
    background: var(--color-secondary);
    color: var(--color-text);
    cursor: pointer;
    border-radius: var(--radius-base);
    font-size: 22px;
    transition: all 0.2s;
    min-width: 48px;
    min-height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.icon-btn:hover {
    background-color: var(--color-secondary);
    color: var(--color-text);
}

.icon-btn.delete {
    background-color: rgba(var(--color-red-500-rgb), 0.15);
    color: var(--color-error);
}

.icon-btn.delete:active {
    background-color: rgba(var(--color-red-500-rgb), 0.25);
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    z-index: 1000;
    overflow-y: auto;
}

.modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-content {
    background-color: var(--color-surface);
    border-radius: var(--radius-lg) var(--radius-lg) 0 0;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: var(--shadow-lg);
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
}

.modal-header {
    padding: var(--space-24);
    border-bottom: 1px solid var(--color-card-border-inner);
    position: relative;
}

.modal-header::before {
    content: '';
    position: absolute;
    top: var(--space-8);
    left: 50%;
    transform: translateX(-50%);
    width: 40px;
    height: 4px;
    background-color: var(--color-border);
    border-radius: var(--radius-full);
}

.modal-title {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
}

.modal-body {
    padding: var(--space-24);
    max-height: 60vh;
    overflow-y: auto;
}

.modal-footer {
    padding: var(--space-24);
    padding-bottom: calc(var(--space-24) + var(--mobile-safe-area-bottom));
    border-top: 1px solid var(--color-card-border-inner);
    display: flex;
    gap: var(--space-12);
    background-color: var(--color-surface);
}

.agenda-filter {
    margin-bottom: var(--space-20);
}

.agenda-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-24);
}

.agenda-date-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-12);
}

.agenda-date-header {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-text);
    padding: var(--space-12) var(--space-4);
    border-bottom: 3px solid var(--color-primary);
    margin-bottom: var(--space-16);
}

.agenda-appointment-card {
    background-color: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-left: 4px solid var(--color-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: var(--space-12);
    box-shadow: var(--shadow-sm);
}

.agenda-appointment-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
}

.agenda-appointment-time {
    font-size: 32px;
    font-weight: var(--font-weight-bold);
    color: var(--color-primary);
    font-family: var(--font-family-mono);
}

.agenda-appointment-client {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
    margin-bottom: var(--space-4);
}

.agenda-appointment-service {
    font-size: var(--font-size-lg);
    color: var(--color-text-secondary);
    display: flex;
    align-items: center;
    gap: var(--space-8);
}

.agenda-appointment-notes {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    font-style: italic;
    margin-top: var(--space-4);
}

.agenda-appointment-actions {
    display: flex;
    flex-direction: column;
    gap: var(--space-8);
    flex-shrink: 0;
}

.agenda-empty {
    text-align: center;
    padding: var(--space-32);
    color: var(--color-text-secondary);
}

.agenda-empty-icon {
    font-size: 64px;
    margin-bottom: var(--space-16);
    opacity: 0.4;
}

.agenda-empty-text {
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-8);
}

.agenda-empty-subtext {
    font-size: var(--font-size-sm);
    opacity: 0.8;
}

.availability-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-12);
}

.availability-item {
    background-color: var(--color-surface);
    border: 1px solid var(--color-card-border);
    border-radius: var(--radius-lg);
    padding: var(--space-20);
    box-shadow: var(--shadow-sm);
}

.availability-day {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-semibold);
}

.availability-controls {
    display: flex;
    gap: var(--space-12);
    align-items: center;
    flex-wrap: wrap;
}

.toggle-switch {
    display: flex;
    align-items: center;
    gap: var(--space-8);
    cursor: pointer;
}

.toggle-input {
    position: relative;
    width: 48px;
    height: 24px;
    appearance: none;
    background-color: var(--color-secondary);
    border-radius: var(--radius-full);
    cursor: pointer;
    transition: background-color 0.2s;
}

.toggle-input:checked {
    background-color: var(--color-success);
}

.toggle-input::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 20px;
    height: 20px;
    background-color: var(--color-white);
    border-radius: 50%;
    transition: transform 0.2s;
}

.toggle-input:checked::after {
    transform: translateX(24px);
}

.time-inputs {
    display: flex;
    gap: var(--space-8);
    align-items: center;
    font-size: var(--font-size-sm);
}

.time-input {
    padding: var(--space-8);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-sm);
    background-color: var(--color-surface);
    color: var(--color-text);
}

.empty-state {
    text-align: center;
    padding: var(--space-32);
    color: var(--color-text-secondary);
}

.empty-state-icon {
    font-size: 64px;
    margin-bottom: var(--space-16);
    opacity: 0.4;
}

.empty-state p {
    font-size: var(--font-size-lg);
    margin: 0;
}

.footer-credit {
    text-align: center;
    padding: var(--space-24) var(--space-16);
    color: var(--color-text-secondary);
    font-size: var(--font-size-sm);
}

.footer-credit-name {
    color: var(--color-barbershop-gold);
    font-weight: var(--font-weight-medium);
}

.status-badge {
    display: inline-block;
    padding: var(--space-4) var(--space-12);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-medium);
}

.status-available {
    background-color: rgba(var(--color-teal-500-rgb), 0.15);
    color: var(--color-success);
}

.status-unavailable {
    background-color: rgba(var(--color-red-500-rgb), 0.15);
    color: var(--color-error);
}

.fab-button {
    position: fixed;
    bottom: calc(var(--mobile-bottom-nav-height) + var(--mobile-safe-area-bottom) + var(--space-16));
    right: var(--space-16);
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background: var(--color-primary);
    color: var(--color-btn-primary-text);
    border: none;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    font-size: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 50;
    transition: all 0.2s;
}

.fab-button:active {
    transform: scale(0.95);
}

@font-face {
  font-family: 'FKGroteskNeue';
  src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2')
    format('woff2');
}
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <h1>PEJETA</h1>
            <div class="header-subtitle">Gesti√≥n Profesional de Peluquer√≠a</div>
        </header>



        <main class="content">
            <!-- Dashboard View -->
            <div id="dashboard" class="view active">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Resumen de Hoy</h2>
                    </div>
                    <div class="card-body">
                        <div class="stat-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="todayAppointmentsCount">0</div>
                                <div class="stat-label">Citas Hoy</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="totalClientsCount">0</div>
                                <div class="stat-label">Clientes Totales</div>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary btn-full" onclick="openAppointmentModal()" style="margin-bottom: var(--space-16);">
                    <span style="font-size: 20px;">‚ûï</span> Nueva Cita
                </button>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Citas de Hoy</h2>
                    </div>
                    <div class="card-body">
                        <div id="todayAppointmentsList" style="user-select: text;"></div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Pr√≥ximas Citas (7 d√≠as)</h2>
                    </div>
                    <div class="card-body">
                        <div id="upcomingAppointmentsList" style="user-select: text;"></div>
                    </div>
                </div>

                <div class="footer-credit">
                    Creado por <span class="footer-credit-name">Manuel Cabrera Garcia @maanucg.02</span>
                </div>
            </div>

            <!-- Clients View -->
            <div id="clients" class="view">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Clientes (<span id="clientsCount">0</span>)</h2>
                        <button class="btn btn-primary btn-sm" onclick="openClientModal()">+ Nuevo Cliente</button>
                    </div>
                    <div class="card-body">
                        <div class="search-box">
                            <input type="text" class="input-field" id="clientSearch" 
                                   placeholder="Buscar por nombre o tel√©fono..." 
                                   oninput="filterClients()">
                        </div>
                        <div class="client-list" id="clientsList"></div>
                    </div>
                </div>

                <button class="fab-button" onclick="openClientModal()" title="Nuevo Cliente">
                    ‚ûï
                </button>

                <div class="footer-credit">
                    Creado por <span class="footer-credit-name">Manuel Cabrera Garcia @maanucg.02</span>
                </div>
            </div>

            <!-- Appointments View -->
            <div id="appointments" class="view">
                <div class="agenda-filter" style="margin-bottom: var(--space-20);">
                    <select class="select-field" id="agendaFilter" onchange="renderAgenda()">
                        <option value="all">Todas las citas</option>
                        <option value="today">Hoy</option>
                        <option value="week">Esta semana</option>
                        <option value="month">Este mes</option>
                    </select>
                </div>

                <div class="agenda-list" id="agendaList"></div>

                <button class="fab-button" onclick="openAppointmentModal()" title="Nueva Cita">
                    ‚ûï
                </button>

                <div class="footer-credit">
                    Creado por <span class="footer-credit-name">Manuel Cabrera Garcia @maanucg.02</span>
                </div>
            </div>

            <!-- Availability View -->
            <div id="availability" class="view">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Disponibilidad Semanal</h2>
                    </div>
                    <div class="card-body">
                        <div class="availability-list" id="availabilityList"></div>
                    </div>
                </div>

                <div class="footer-credit">
                    Creado por <span class="footer-credit-name">Manuel Cabrera Garcia @maanucg.02</span>
                </div>
            </div>
        </main>

        <nav class="mobile-bottom-nav">
            <button class="nav-item active" onclick="showView('dashboard')">
                <div class="nav-item-icon">üè†</div>
                <div>Inicio</div>
            </button>
            <button class="nav-item" onclick="showView('clients')">
                <div class="nav-item-icon">üë•</div>
                <div>Clientes</div>
            </button>
            <button class="nav-item" onclick="showView('appointments')">
                <div class="nav-item-icon">üìÖ</div>
                <div>Agenda</div>
            </button>
            <button class="nav-item" onclick="showView('availability')">
                <div class="nav-item-icon">‚è∞</div>
                <div>Horario</div>
            </button>
        </nav>
    </div>

    <!-- Client Modal -->
    <div id="clientModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="clientModalTitle">Nuevo Cliente</h3>
            </div>
            <div class="modal-body">
                <form id="clientForm">
                    <input type="hidden" id="clientId">
                    <div class="input-group">
                        <label class="input-label">Nombre Completo <span class="input-required">*</span></label>
                        <input type="text" class="input-field" id="clientName" required>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Tel√©fono <span class="input-required">*</span></label>
                        <input type="tel" class="input-field" id="clientPhone" required>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Email</label>
                        <input type="email" class="input-field" id="clientEmail">
                    </div>
                    <div class="input-group">
                        <label class="input-label">Notas</label>
                        <textarea class="textarea-field" id="clientNotes"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeClientModal()">Cancelar</button>
                <button class="btn btn-primary" onclick="saveClient()">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Appointment Modal -->
    <div id="appointmentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="appointmentModalTitle">Nueva Cita</h3>
            </div>
            <div class="modal-body">
                <form id="appointmentForm">
                    <input type="hidden" id="appointmentId">
                    <div class="input-group">
                        <label class="input-label">Cliente <span class="input-required">*</span></label>
                        <select class="select-field" id="appointmentClient" required>
                            <option value="">Seleccionar cliente...</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Fecha <span class="input-required">*</span></label>
                        <input type="date" class="input-field" id="appointmentDate" required>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Hora <span class="input-required">*</span></label>
                        <select class="select-field" id="appointmentTime" required>
                            <option value="">Seleccionar hora...</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Servicio <span class="input-required">*</span></label>
                        <select class="select-field" id="appointmentService" required>
                            <option value="">Seleccionar servicio...</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label class="input-label">Notas</label>
                        <textarea class="textarea-field" id="appointmentNotes"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeAppointmentModal()">Cancelar</button>
                <button class="btn btn-primary" onclick="saveAppointment()">Guardar</button>
            </div>
        </div>
    </div>

    <script>
        // Data structures
        let clients = [
            {
                id: 1,
                name: "Juan Garc√≠a",
                phone: "650123456",
                email: "juan@example.com",
                notes: "Corte cl√°sico",
                lastAppointment: "2025-11-20"
            },
            {
                id: 2,
                name: "Carlos L√≥pez",
                phone: "651234567",
                email: "carlos@example.com",
                notes: "Afeitado y l√≠neas",
                lastAppointment: "2025-11-15"
            },
            {
                id: 3,
                name: "Miguel Rodr√≠guez",
                phone: "652345678",
                email: "miguel@example.com",
                notes: "Coloraci√≥n",
                lastAppointment: "2025-11-18"
            },
            {
                id: 4,
                name: "Antonio Fern√°ndez",
                phone: "653456789",
                email: "antonio@example.com",
                notes: "L√≠neas",
                lastAppointment: "2025-11-22"
            }
        ];

        let appointments = [
            {
                id: 1,
                clientId: 1,
                date: "2025-11-22",
                time: "10:00",
                serviceType: "Corte cl√°sico",
                notes: ""
            },
            {
                id: 2,
                clientId: 2,
                date: "2025-11-22",
                time: "11:00",
                serviceType: "Afeitado",
                notes: ""
            },
            {
                id: 3,
                clientId: 3,
                date: "2025-11-23",
                time: "14:00",
                serviceType: "Coloraci√≥n",
                notes: ""
            },
            {
                id: 4,
                clientId: 4,
                date: "2025-11-24",
                time: "09:00",
                serviceType: "L√≠neas",
                notes: ""
            },
            {
                id: 5,
                clientId: 1,
                date: "2025-11-24",
                time: "16:00",
                serviceType: "Corte moderno",
                notes: ""
            }
        ];

        let availability = {
            monday: { available: true, start: "09:00", end: "18:00" },
            tuesday: { available: true, start: "09:00", end: "18:00" },
            wednesday: { available: true, start: "09:00", end: "18:00" },
            thursday: { available: true, start: "09:00", end: "18:00" },
            friday: { available: true, start: "09:00", end: "18:00" },
            saturday: { available: true, start: "09:00", end: "14:00" },
            sunday: { available: false, start: "00:00", end: "00:00" }
        };

        const timeSlots = [
            "09:00", "10:00", "11:00", "12:00", "13:00", 
            "14:00", "15:00", "16:00", "17:00", "18:00"
        ];

        const serviceTypes = [
            "Corte cl√°sico",
            "Corte moderno",
            "Afeitado",
            "L√≠neas/Perfilado",
            "Coloraci√≥n",
            "Tratamiento barba",
            "Paquete completo"
        ];
        
        const dayNamesEs = {
            monday: 'Lunes',
            tuesday: 'Martes',
            wednesday: 'Mi√©rcoles',
            thursday: 'Jueves',
            friday: 'Viernes',
            saturday: 'S√°bado',
            sunday: 'Domingo'
        };

        let currentView = 'dashboard';
        let editingClientId = null;
        let editingAppointmentId = null;

        // Initialize app
        function init() {
            populateServiceTypes();
            updateDashboard();
            renderClients();
            renderAgenda();
            renderAvailability();
        }

        // View management
        function showView(viewName) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(t => t.classList.remove('active'));
            
            document.getElementById(viewName).classList.add('active');
            event.target.classList.add('active');
            
            currentView = viewName;
            
            // Scroll to top when switching views
            document.querySelector('.content').scrollTop = 0;
            
            if (viewName === 'dashboard') {
                updateDashboard();
            } else if (viewName === 'clients') {
                renderClients();
            } else if (viewName === 'appointments') {
                renderAgenda();
            } else if (viewName === 'availability') {
                renderAvailability();
            }
        }

        // Dashboard functions
        function updateDashboard() {
            const today = new Date().toISOString().split('T')[0];
            const todayAppointments = appointments.filter(a => a.date === today);
            
            document.getElementById('todayAppointmentsCount').textContent = todayAppointments.length;
            document.getElementById('totalClientsCount').textContent = clients.length;
            
            // Today's appointments
            const todayList = document.getElementById('todayAppointmentsList');
            if (todayAppointments.length === 0) {
                todayList.innerHTML = '<div class="empty-state" style="padding: var(--space-24);"><div class="empty-state-icon">üìÖ</div><p>No hay citas para hoy</p></div>';
            } else {
                todayList.innerHTML = todayAppointments
                    .sort((a, b) => a.time.localeCompare(b.time))
                    .map(a => {
                        const client = clients.find(c => c.id === a.clientId);
                        return `
                            <div class="appointment-item" style="margin-bottom: var(--space-12);">
                                <div class="appointment-info">
                                    <div style="font-size: var(--font-size-2xl); font-weight: var(--font-weight-bold); color: var(--color-primary); margin-bottom: var(--space-4);">${a.time}</div>
                                    <div class="appointment-client">${client ? client.name : 'Cliente desconocido'}</div>
                                    <div class="appointment-details">‚úÇÔ∏è ${a.serviceType}</div>
                                </div>
                            </div>
                        `;
                    }).join('');
            }
            
            // Upcoming appointments
            const nextWeek = new Date();
            nextWeek.setDate(nextWeek.getDate() + 7);
            const upcomingAppointments = appointments
                .filter(a => {
                    const date = new Date(a.date);
                    return date > new Date() && date <= nextWeek;
                })
                .sort((a, b) => new Date(a.date) - new Date(b.date));
            
            const upcomingList = document.getElementById('upcomingAppointmentsList');
            if (upcomingAppointments.length === 0) {
                upcomingList.innerHTML = '<div class="empty-state" style="padding: var(--space-24);"><div class="empty-state-icon">üìÜ</div><p>No hay citas pr√≥ximas</p></div>';
            } else {
                upcomingList.innerHTML = upcomingAppointments.map(a => {
                    const client = clients.find(c => c.id === a.clientId);
                    return `
                        <div class="appointment-item" style="margin-bottom: var(--space-12);">
                            <div class="appointment-info">
                                <div style="font-size: var(--font-size-base); color: var(--color-text-secondary); margin-bottom: var(--space-4);">${formatDateMobile(a.date)}</div>
                                <div style="font-size: var(--font-size-xl); font-weight: var(--font-weight-bold); color: var(--color-primary); margin-bottom: var(--space-4);">${a.time}</div>
                                <div class="appointment-client" style="margin-bottom: var(--space-4);">${client ? client.name : 'Cliente desconocido'}</div>
                                <div class="appointment-details">‚úÇÔ∏è ${a.serviceType}</div>
                            </div>
                        </div>
                    `;
                }).join('');
            }
        }

        // Client functions
        function renderClients() {
            const clientsList = document.getElementById('clientsList');
            const searchTerm = document.getElementById('clientSearch').value.toLowerCase();
            
            const filteredClients = clients.filter(c => 
                c.name.toLowerCase().includes(searchTerm) || 
                c.phone.includes(searchTerm)
            );
            
            document.getElementById('clientsCount').textContent = clients.length;
            
            if (filteredClients.length === 0) {
                clientsList.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üë§</div><p>No se encontraron clientes</p></div>';
                return;
            }
            
            clientsList.innerHTML = filteredClients.map(client => `
                <div class="client-item">
                    <div class="client-info">
                        <div class="client-name">${client.name}</div>
                        <div class="client-details">üìû ${client.phone}</div>
                        ${client.email ? `<div class="client-details">‚úâÔ∏è ${client.email}</div>` : ''}
                        ${client.notes ? `<div class="client-details">üìù ${client.notes}</div>` : ''}
                        ${client.lastAppointment ? `<div class="client-details">√öltima cita: ${formatDate(client.lastAppointment)}</div>` : ''}
                    </div>
                    <div class="client-actions">
                        <button class="icon-btn delete" onclick="deleteClient(${client.id})" title="Eliminar">üóëÔ∏è</button>
                    </div>
                </div>
            `).join('');
        }

        function filterClients() {
            renderClients();
        }

        function openClientModal(clientId = null) {
            editingClientId = clientId;
            const modal = document.getElementById('clientModal');
            const form = document.getElementById('clientForm');
            
            if (clientId) {
                const client = clients.find(c => c.id === clientId);
                document.getElementById('clientModalTitle').textContent = 'Editar Cliente';
                document.getElementById('clientId').value = client.id;
                document.getElementById('clientName').value = client.name;
                document.getElementById('clientPhone').value = client.phone;
                document.getElementById('clientEmail').value = client.email || '';
                document.getElementById('clientNotes').value = client.notes || '';
            } else {
                document.getElementById('clientModalTitle').textContent = 'Nuevo Cliente';
                form.reset();
            }
            
            modal.classList.add('active');
        }

        function closeClientModal() {
            document.getElementById('clientModal').classList.remove('active');
            editingClientId = null;
        }

        function saveClient() {
            const name = document.getElementById('clientName').value.trim();
            const phone = document.getElementById('clientPhone').value.trim();
            const email = document.getElementById('clientEmail').value.trim();
            const notes = document.getElementById('clientNotes').value.trim();
            
            if (!name || !phone) {
                alert('Por favor, complete los campos obligatorios');
                return;
            }
            
            if (editingClientId) {
                const client = clients.find(c => c.id === editingClientId);
                client.name = name;
                client.phone = phone;
                client.email = email;
                client.notes = notes;
            } else {
                const newClient = {
                    id: clients.length > 0 ? Math.max(...clients.map(c => c.id)) + 1 : 1,
                    name,
                    phone,
                    email,
                    notes,
                    lastAppointment: null
                };
                clients.push(newClient);
            }
            
            closeClientModal();
            renderClients();
            updateDashboard();
            updateAppointmentClientDropdown();
        }



        function deleteClient(clientId) {
            const client = clients.find(c => c.id === clientId);
            if (!client) {
                alert('Error: Cliente no encontrado');
                return;
            }
            
            const clientAppointments = appointments.filter(a => a.clientId === clientId);
            const appointmentText = clientAppointments.length > 0 
                ? ` y ${clientAppointments.length} cita(s)`
                : '';
            
            // Mobile-friendly confirmation
            const confirmed = confirm(`¬øSeguro que quieres eliminar a ${client.name}?${appointmentText ? '\n\nTambi√©n se eliminar√°n' + appointmentText : ''}`);
            
            if (confirmed) {
                clients = clients.filter(c => c.id !== clientId);
                appointments = appointments.filter(a => a.clientId !== clientId);
                
                renderClients();
                updateDashboard();
                renderAgenda();
            }
        }

        // Date formatting helper
        function formatDateMobile(dateString) {
            const date = new Date(dateString);
            const dayNames = ['Domingo', 'Lunes', 'Martes', 'Mi√©rcoles', 'Jueves', 'Viernes', 'S√°bado'];
            const monthNames = ['ene', 'feb', 'mar', 'abr', 'may', 'jun', 'jul', 'ago', 'sep', 'oct', 'nov', 'dic'];
            return `${dayNames[date.getDay()]}, ${date.getDate()} ${monthNames[date.getMonth()]}`;
        }

        // Agenda functions - NEW LIST-BASED DESIGN
        function renderAgenda() {
            const agendaList = document.getElementById('agendaList');
            const filter = document.getElementById('agendaFilter').value;
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            let filteredAppointments = [];
            
            if (filter === 'today') {
                const todayStr = today.toISOString().split('T')[0];
                filteredAppointments = appointments.filter(a => a.date === todayStr);
            } else if (filter === 'week') {
                const nextWeek = new Date(today);
                nextWeek.setDate(nextWeek.getDate() + 7);
                filteredAppointments = appointments.filter(a => {
                    const apptDate = new Date(a.date);
                    return apptDate >= today && apptDate <= nextWeek;
                });
            } else if (filter === 'month') {
                const nextMonth = new Date(today);
                nextMonth.setMonth(nextMonth.getMonth() + 1);
                filteredAppointments = appointments.filter(a => {
                    const apptDate = new Date(a.date);
                    return apptDate >= today && apptDate <= nextMonth;
                });
            } else {
                filteredAppointments = appointments.filter(a => {
                    const apptDate = new Date(a.date);
                    return apptDate >= today;
                });
            }
            
            // Sort by date and time
            filteredAppointments.sort((a, b) => {
                if (a.date !== b.date) {
                    return a.date.localeCompare(b.date);
                }
                return a.time.localeCompare(b.time);
            });
            
            if (filteredAppointments.length === 0) {
                agendaList.innerHTML = `
                    <div class="agenda-empty">
                        <div class="agenda-empty-icon">üìÖ</div>
                        <div class="agenda-empty-text">No hay citas programadas</div>
                        <div class="agenda-empty-subtext">Agrega una nueva cita para comenzar</div>
                    </div>
                `;
                return;
            }
            
            // Group by date
            const groupedByDate = {};
            filteredAppointments.forEach(appt => {
                if (!groupedByDate[appt.date]) {
                    groupedByDate[appt.date] = [];
                }
                groupedByDate[appt.date].push(appt);
            });
            
            // Render grouped appointments
            let html = '';
            Object.keys(groupedByDate).forEach(date => {
                html += `
                    <div class="agenda-date-group">
                        <div class="agenda-date-header">${formatDateMobile(date)}</div>
                `;
                
                groupedByDate[date].forEach(appt => {
                    const client = clients.find(c => c.id === appt.clientId);
                    const clientName = client ? client.name : 'Cliente desconocido';
                    
                    html += `
                        <div class="agenda-appointment-card">
                            <div class="agenda-appointment-main">
                                <div class="agenda-appointment-time">${appt.time}</div>
                                <div class="agenda-appointment-client">${clientName}</div>
                                <div class="agenda-appointment-service">‚úÇÔ∏è ${appt.serviceType}</div>
                                ${appt.notes ? `<div class="agenda-appointment-notes">üìù ${appt.notes}</div>` : ''}
                            </div>
                            <div class="agenda-appointment-actions">
                                <button class="icon-btn delete" onclick="deleteAppointment(${appt.id})" title="Eliminar">üóëÔ∏è</button>
                            </div>
                        </div>
                    `;
                });
                
                html += '</div>';
            });
            
            agendaList.innerHTML = html;
        }









        function openAppointmentModal(appointmentId = null) {
            editingAppointmentId = appointmentId;
            const modal = document.getElementById('appointmentModal');
            const form = document.getElementById('appointmentForm');
            
            updateAppointmentClientDropdown();
            populateTimeSlots();
            
            if (appointmentId) {
                const appointment = appointments.find(a => a.id === appointmentId);
                document.getElementById('appointmentModalTitle').textContent = 'Editar Cita';
                document.getElementById('appointmentId').value = appointment.id;
                document.getElementById('appointmentClient').value = appointment.clientId;
                document.getElementById('appointmentDate').value = appointment.date;
                document.getElementById('appointmentTime').value = appointment.time;
                document.getElementById('appointmentService').value = appointment.serviceType;
                document.getElementById('appointmentNotes').value = appointment.notes || '';
            } else {
                document.getElementById('appointmentModalTitle').textContent = 'Nueva Cita';
                form.reset();
                // Set default date to today
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('appointmentDate').value = today;
            }
            
            modal.classList.add('active');
        }

        function closeAppointmentModal() {
            document.getElementById('appointmentModal').classList.remove('active');
            editingAppointmentId = null;
        }

        function saveAppointment() {
            const clientId = parseInt(document.getElementById('appointmentClient').value);
            const date = document.getElementById('appointmentDate').value;
            const time = document.getElementById('appointmentTime').value;
            const serviceType = document.getElementById('appointmentService').value;
            const notes = document.getElementById('appointmentNotes').value.trim();
            
            if (!clientId || !date || !time || !serviceType) {
                alert('Por favor, complete todos los campos obligatorios');
                return;
            }
            
            if (editingAppointmentId) {
                const appointment = appointments.find(a => a.id === editingAppointmentId);
                appointment.clientId = clientId;
                appointment.date = date;
                appointment.time = time;
                appointment.serviceType = serviceType;
                appointment.notes = notes;
            } else {
                const newAppointment = {
                    id: appointments.length > 0 ? Math.max(...appointments.map(a => a.id)) + 1 : 1,
                    clientId,
                    date,
                    time,
                    serviceType,
                    notes
                };
                appointments.push(newAppointment);
            }
            
            // Update client's last appointment
            const client = clients.find(c => c.id === clientId);
            if (client) {
                client.lastAppointment = date;
            }
            
            closeAppointmentModal();
            renderAgenda();
            updateDashboard();
        }



        function deleteAppointment(appointmentId) {
            const appointment = appointments.find(a => a.id === appointmentId);
            if (!appointment) return;
            
            const client = clients.find(c => c.id === appointment.clientId);
            const clientName = client ? client.name : 'Cliente desconocido';
            
            const confirmed = confirm(`¬øEliminar esta cita?\n\n${clientName}\n${formatDate(appointment.date)} - ${appointment.time}`);
            
            if (confirmed) {
                appointments = appointments.filter(a => a.id !== appointmentId);
                renderAgenda();
                updateDashboard();
            }
        }

        function updateAppointmentClientDropdown() {
            const select = document.getElementById('appointmentClient');
            select.innerHTML = '<option value="">Seleccionar cliente...</option>' +
                clients.map(c => `<option value="${c.id}">${c.name}</option>`).join('');
        }

        function populateTimeSlots() {
            const select = document.getElementById('appointmentTime');
            select.innerHTML = '<option value="">Seleccionar hora...</option>' +
                timeSlots.map(time => `<option value="${time}">${time}</option>`).join('');
        }

        function populateServiceTypes() {
            const select = document.getElementById('appointmentService');
            select.innerHTML = '<option value="">Seleccionar servicio...</option>' +
                serviceTypes.map(service => `<option value="${service}">${service}</option>`).join('');
        }

        // Availability functions
        function renderAvailability() {
            const list = document.getElementById('availabilityList');
            
            list.innerHTML = Object.keys(availability).map(day => {
                const config = availability[day];
                return `
                    <div class="availability-item">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: ${config.available ? 'var(--space-12)' : '0'};">
                            <div class="availability-day">${dayNamesEs[day]}</div>
                            <label class="toggle-switch">
                                <input type="checkbox" class="toggle-input" 
                                       ${config.available ? 'checked' : ''}
                                       onchange="toggleAvailability('${day}')">
                            </label>
                        </div>
                        ${config.available ? `
                            <div class="time-inputs" style="gap: var(--space-12);">
                                <div style="flex: 1;">
                                    <label style="font-size: var(--font-size-sm); color: var(--color-text-secondary); display: block; margin-bottom: var(--space-4);">Apertura</label>
                                    <input type="time" class="time-input" style="width: 100%; padding: var(--space-12); font-size: var(--font-size-base);"
                                           value="${config.start}"
                                           onchange="updateAvailabilityTime('${day}', 'start', this.value)">
                                </div>
                                <div style="flex: 1;">
                                    <label style="font-size: var(--font-size-sm); color: var(--color-text-secondary); display: block; margin-bottom: var(--space-4);">Cierre</label>
                                    <input type="time" class="time-input" style="width: 100%; padding: var(--space-12); font-size: var(--font-size-base);"
                                           value="${config.end}"
                                           onchange="updateAvailabilityTime('${day}', 'end', this.value)">
                                </div>
                            </div>
                        ` : `
                            <div style="text-align: center; padding: var(--space-8); color: var(--color-text-secondary); font-size: var(--font-size-sm);">
                                Cerrado
                            </div>
                        `}
                    </div>
                `;
            }).join('');
        }

        function toggleAvailability(day) {
            availability[day].available = !availability[day].available;
            renderAvailability();
        }

        function updateAvailabilityTime(day, type, value) {
            availability[day][type] = value;
        }

        // Utility functions
        function formatDate(dateString) {
            const date = new Date(dateString);
            const day = date.getDate();
            const month = date.getMonth() + 1;
            const year = date.getFullYear();
            return `${day.toString().padStart(2, '0')}/${month.toString().padStart(2, '0')}/${year}`;
        }

        // Initialize the app
        window.onload = init;
    </script>
</body>
</html>